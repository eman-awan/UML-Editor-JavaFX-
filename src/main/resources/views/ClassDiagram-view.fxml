<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.SplitPane?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="Main.ClassController"
            style="-fx-background-color: #F7F9FC; -fx-padding: 0;">
    <top>
        <MenuBar style="-fx-background-color: #87CEEB; -fx-padding: 5;">
            <Menu text="File" style="-fx-text-fill: white; -fx-font-weight: bold;">
                <MenuItem text="New" accelerator="Ctrl+N"/>
                <MenuItem text="Open" accelerator="Ctrl+O"/>
                <MenuItem onAction="#onSaveProjectClick" text="Save" accelerator="Ctrl+S"/>
                <MenuItem text="Save As"/>
                <Menu text="Import">
                    <MenuItem text="XML"/>
                    <MenuItem onAction="#onLoadDiagram" text="JSON"/>
                    <MenuItem text="Raw Form"/>
                </Menu>
                <Menu text="Export">
                    <MenuItem onAction="#onPNGClick" text="PNG"/>
                    <MenuItem text="XML"/>
                    <MenuItem onAction="#onSaveClassDiagram" text="JSON"/>
                    <MenuItem text="Raw Form"/>
                </Menu>
                <SeparatorMenuItem/>
                <MenuItem onAction="#onCloseButtonClick" text="Close" accelerator="Ctrl+W"/>
                <MenuItem text="Exit" accelerator="Alt+F4"/>
            </Menu>

            <Menu text="Settings" style="-fx-text-fill: white; -fx-font-weight: bold;">
                <MenuItem text="Theme" onAction="#handleSettingsAction"/>
            </Menu>
            <Menu text="Help" style="-fx-text-fill: white; -fx-font-weight: bold;">
                <MenuItem text="About" onAction="#handleHelpAction"/>
            </Menu>
        </MenuBar>
    </top>

    <center>
        <SplitPane dividerPositions="0.25" style="-fx-background-color: #E0E7EF;">
            <!-- Toolbox Section -->
            <VBox fx:id="toolbox"
                  spacing="20"
                  prefWidth="220"
                  minWidth="170"
                  maxWidth="300"
                  style="-fx-background-color: #FAFAFA; -fx-border-color: #CCCCCC; -fx-border-width: 0 1px 0 0; -fx-padding: 15;">
                <Label text="TOOLBOX"
                       style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #4A4A4A; -fx-padding: 5 0;"/>

                <!-- Generate Code Section -->
                <VBox spacing="10">
                    <Label text="Code Generation"
                           style="-fx-font-weight: bold; -fx-text-fill: #4A4A4A;"/>
                    <Button fx:id="generateCodeButton" text="Generate Code"
                            style="-fx-font-size: 14px; -fx-padding: 10; -fx-background-color: #E6FFE6; -fx-border-color: #2E8B57;"
                    onAction="#onCodeGenerateClick">
                        <graphic>
                            <ImageView fitHeight="20" fitWidth="20">
                                <image>
                                    <Image url="@../Icons/generate_code_icon.jpg"/>
                                </image>
                            </ImageView>
                        </graphic>
                    </Button>
                </VBox>

                <!-- Undo and Redo -->
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Button fx:id="undoButton" text="Undo"
                            style="-fx-background-color: #FFFFFF; -fx-border-color: #CCCCCC; -fx-padding: 5 10;">
                        <graphic>
                            <ImageView fitHeight="20" fitWidth="20">
                                <image>
                                    <Image url="@../Icons/undo_icon.png"/>
                                </image>
                            </ImageView>
                        </graphic>
                    </Button>
                    <Button fx:id="redoButton" text="Redo"
                            style="-fx-background-color: #FFFFFF; -fx-border-color: #CCCCCC; -fx-padding: 5 10;">
                        <graphic>
                            <ImageView fitHeight="20" fitWidth="20">
                                <image>
                                    <Image url="@../Icons/redo_icon.png"/>
                                </image>
                            </ImageView>
                        </graphic>
                    </Button>
                </HBox>

                <!-- Class Components -->
                <VBox spacing="10">
                    <Label text="Class Components"
                           style="-fx-font-weight: bold; -fx-text-fill: #4A4A4A;"/>
                    <ToggleButton fx:id="classButton" text="Class"
                                  style="-fx-font-size: 14px; -fx-padding: 10; -fx-background-color: #E6F7FF; -fx-border-color: #4A90E2;"
                                  onAction="#onAddClassDiagramClick">
                        <graphic>
                            <ImageView fitHeight="20" fitWidth="20">
                                <image>
                                    <Image url="@../Icons/class_icon.png"/>
                                </image>
                            </ImageView>
                        </graphic>
                    </ToggleButton>
                    <ToggleButton fx:id="interfaceButton" text="Interface"
                                  style="-fx-font-size: 14px; -fx-padding: 10; -fx-background-color: #E6F7FF; -fx-border-color: #4A90E2;"
                                  onAction="#onAddInterfaceDiagramClick">
                        <graphic>
                            <ImageView fitHeight="20" fitWidth="20">
                                <image>
                                    <Image url="@../Icons/interface_icon.png"/>
                                </image>
                            </ImageView>
                        </graphic>
                    </ToggleButton>
                </VBox>

                <!-- Relationships -->
                <VBox spacing="10">
                    <Label text="Relationships"
                           style="-fx-font-weight: bold; -fx-text-fill: #4A4A4A;"/>
                    <Button fx:id="associationButton" text="Association"
                            style="-fx-font-size: 14px; -fx-padding: 10; -fx-background-color: #FFF4E6; -fx-border-color: #FF9900;"
                            onAction="#onDrawAssociationClick">

                    </Button>
                    <Button fx:id="aggregationButton" text="Aggregation"
                            style="-fx-font-size: 14px; -fx-padding: 10; -fx-background-color: #FFF4E6; -fx-border-color: #FF9900;"
                            onAction="#onDrawAggregationClick">
                    </Button>
                    <Button fx:id="compositionButton" text="Composition"
                            style="-fx-font-size: 14px; -fx-padding: 10; -fx-background-color: #FFF4E6; -fx-border-color: #FF9900;"
                            onAction="#onDrawCompositionClick">
                    </Button>
                    <Button fx:id="inheritanceButton" text="Inheritance"
                            style="-fx-font-size: 14px; -fx-padding: 10; -fx-background-color: #FFF4E6; -fx-border-color: #FF9900;"
                            onAction="#onDrawInheritanceClick">
                    </Button>

                </VBox>
            </VBox>

            <!-- Canvas Section -->
            <Pane fx:id="canvas" style="-fx-background-color: #FFFFFF; -fx-border-color: #CCCCCC;"/>
        </SplitPane>
    </center>
</BorderPane>
